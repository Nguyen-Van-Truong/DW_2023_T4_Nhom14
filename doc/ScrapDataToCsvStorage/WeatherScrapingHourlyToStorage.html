<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) on Sat Dec 16 12:22:38 ICT 2023 -->
<title>WeatherScrapingHourlyToStorage</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-12-16">
<meta name="description" content="declaration: package: ScrapDataToCsvStorage, class: WeatherScrapingHourlyToStorage">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">ScrapDataToCsvStorage</a></div>
<h1 title="Class WeatherScrapingHourlyToStorage" class="title">Class WeatherScrapingHourlyToStorage</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">ScrapDataToCsvStorage.WeatherScrapingHourlyToStorage</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">WeatherScrapingHourlyToStorage</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Class for scraping weather data hourly and storing it in a CSV file.
 This class uses Selenium WebDriver for web scraping and handles different
 aspects of the process including fetching data from URLs, parsing weather
 information, and saving it into a CSV format.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#All" class="member-name-link">All</a></code></div>
<div class="col-last even-row-color">
<div class="block">The default region name used when no specific region is specified.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#DongNamBo" class="member-name-link">DongNamBo</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the Đông Nam Bộ region.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#nameProcess" class="member-name-link">nameProcess</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static int</code></div>
<div class="col-second odd-row-color"><code><a href="#TOTAL_URL" class="member-name-link">TOTAL_URL</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The total number of URLs to be processed for all regions.</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#TOTAL_URL_DONG_NAM_BO" class="member-name-link">TOTAL_URL_DONG_NAM_BO</a></code></div>
<div class="col-last even-row-color">
<div class="block">The total number of URLs for the Đông Nam Bộ region.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">WeatherScrapingHourlyToStorage</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#convertFileNameToCode(java.lang.String)" class="member-name-link">convertFileNameToCode</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;originalFileName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Converts a given file name to a standardized code format.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#countUrl(java.lang.String)" class="member-name-link">countUrl</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Counts and categorizes the different URLs for provinces and districts within a specified region.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static org.openqa.selenium.chrome.ChromeOptions</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createChromeOption()" class="member-name-link">createChromeOption</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates and configures ChromeOptions for the WebDriver.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#finalizeScraping(java.util.concurrent.ExecutorService,java.util.List,java.util.concurrent.atomic.AtomicInteger,long,int,java.lang.String)" class="member-name-link">finalizeScraping</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a>&nbsp;executorService,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;&nbsp;allWeatherData,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a>&nbsp;completedUrls,
 long&nbsp;startTime,
 int&nbsp;dataFileId,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directoryPath)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Completes the scraping process by terminating the ExecutorService and summarizing the results.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getAirQuality(java.lang.String,int)" class="member-name-link">getAirQuality</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 int&nbsp;maxRetries)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Retrieves air quality data from a given URL.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ProvinceInfo.html" title="class in ScrapDataToCsvStorage">ProvinceInfo</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getAllProvinces(java.lang.String)" class="member-name-link">getAllProvinces</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Retrieves a list of all provinces from the website.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="DistrictInfo.html" title="class in ScrapDataToCsvStorage">DistrictInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDistrictsOfProvince(java.lang.String)" class="member-name-link">getDistrictsOfProvince</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;provinceUrl)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Retrieves a list of districts for a given province URL.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getIPAddress()" class="member-name-link">getIPAddress</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Retrieves the public IP address of the current machine.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getWithRetry(org.openqa.selenium.WebDriver,java.lang.String,int)" class="member-name-link">getWithRetry</a><wbr>(org.openqa.selenium.WebDriver&nbsp;driver,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 int&nbsp;maxRetries)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Attempts to load a page with a given URL, retrying up to a specified number of times.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#insertToControlStartProcess()" class="member-name-link">insertToControlStartProcess</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Records the start of a scraping process in the control database.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#insertToControlSuccessProcess(java.lang.String,java.lang.String,int,int,java.time.LocalDateTime)" class="member-name-link">insertToControlSuccessProcess</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;absolutePath,
 int&nbsp;dataFileId,
 int&nbsp;rowCount,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/LocalDateTime.html" title="class or interface in java.time" class="external-link">LocalDateTime</a>&nbsp;scrapingTime)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Logs the successful completion of a scraping process in the control database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isNotReadyToRun()" class="member-name-link">isNotReadyToRun</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if the scraping process is ready to run.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#main(java.lang.String%5B%5D)" class="member-name-link">main</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">The main method to start the scraping process.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#safelyGetText(org.openqa.selenium.WebDriver,org.openqa.selenium.By,java.lang.String)" class="member-name-link">safelyGetText</a><wbr>(org.openqa.selenium.WebDriver&nbsp;driver,
 org.openqa.selenium.By&nbsp;selector,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;defaultValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Safely gets text from the WebDriver, returns a default value if not found.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#safelyGetText(org.openqa.selenium.WebElement,org.openqa.selenium.By,java.lang.String)" class="member-name-link">safelyGetText</a><wbr>(org.openqa.selenium.WebElement&nbsp;detail,
 org.openqa.selenium.By&nbsp;selector,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;defaultValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Safely gets text from a WebElement, returns a default value if not found.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#saveDataAndPrintSummary(java.util.List,long,int,java.lang.String)" class="member-name-link">saveDataAndPrintSummary</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;&nbsp;allWeatherData,
 long&nbsp;startTime,
 int&nbsp;dataFileId,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directoryPath)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Saves the scraped weather data into a CSV file and prints a summary of the operation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#saveToCSV(java.util.List,java.lang.String)" class="member-name-link">saveToCSV</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;&nbsp;weatherData,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;filePath)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Saves the collected weather data to a CSV file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#scrapeAndSaveToCsv(java.lang.String,java.lang.String)" class="member-name-link">scrapeAndSaveToCsv</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directoryPath)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Initiates the process of scraping weather data for the specified region and then saves it to a CSV file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#scrapeHourlyWeatherData3Days(org.openqa.selenium.WebDriver,java.lang.String,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">scrapeHourlyWeatherData3Days</a><wbr>(org.openqa.selenium.WebDriver&nbsp;driver,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;province,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;district,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;airQuality)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Scrapes hourly weather data for the next 3 days from a given URL.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#scrapeWithRetry(java.lang.String,int,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">scrapeWithRetry</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 int&nbsp;maxRetries,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;province,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;district,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;airQuality)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Attempts to scrape weather data with retries on failure.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setUTF8Output()" class="member-name-link">setUTF8Output</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Sets the System output to UTF-8 encoding.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#updateDataFilesStatusToEF(int,java.lang.String)" class="member-name-link">updateDataFilesStatusToEF</a><wbr>(int&nbsp;dataFileId,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;errorMessage)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Updates the status of a data file to 'EF' (Error Finished) in the control database and logs an error message.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="All">
<h3>All</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">All</span></div>
<div class="block">The default region name used when no specific region is specified.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../constant-values.html#ScrapDataToCsvStorage.WeatherScrapingHourlyToStorage.All">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DongNamBo">
<h3>DongNamBo</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">DongNamBo</span></div>
<div class="block">The name of the Đông Nam Bộ region.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../constant-values.html#ScrapDataToCsvStorage.WeatherScrapingHourlyToStorage.DongNamBo">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="TOTAL_URL_DONG_NAM_BO">
<h3>TOTAL_URL_DONG_NAM_BO</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">TOTAL_URL_DONG_NAM_BO</span></div>
<div class="block">The total number of URLs for the Đông Nam Bộ region.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../constant-values.html#ScrapDataToCsvStorage.WeatherScrapingHourlyToStorage.TOTAL_URL_DONG_NAM_BO">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nameProcess">
<h3>nameProcess</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">nameProcess</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../constant-values.html#ScrapDataToCsvStorage.WeatherScrapingHourlyToStorage.nameProcess">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="TOTAL_URL">
<h3>TOTAL_URL</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">TOTAL_URL</span></div>
<div class="block">The total number of URLs to be processed for all regions.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>WeatherScrapingHourlyToStorage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">WeatherScrapingHourlyToStorage</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setUTF8Output()">
<h3>setUTF8Output</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setUTF8Output</span>()</div>
<div class="block">Sets the System output to UTF-8 encoding.
 This method is used to ensure that the console output can handle UTF-8 characters,
 which is especially important for non-ASCII text.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the encoding is set successfully, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllProvinces(java.lang.String)">
<h3>getAllProvinces</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ProvinceInfo.html" title="class in ScrapDataToCsvStorage">ProvinceInfo</a>&gt;</span>&nbsp;<span class="element-name">getAllProvinces</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</span></div>
<div class="block">Retrieves a list of all provinces from the website.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>regionName</code> - The name of the region for which to retrieve provinces. If null or empty, all provinces are retrieved.</dd>
<dt>Returns:</dt>
<dd>List of ProvinceInfo objects containing province names and URLs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWithRetry(org.openqa.selenium.WebDriver,java.lang.String,int)">
<h3>getWithRetry</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getWithRetry</span><wbr><span class="parameters">(org.openqa.selenium.WebDriver&nbsp;driver,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 int&nbsp;maxRetries)</span></div>
<div class="block">Attempts to load a page with a given URL, retrying up to a specified number of times.
 This method is used to handle intermittent network or server issues by retrying the page load.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>driver</code> - The WebDriver instance used to load the page.</dd>
<dd><code>url</code> - The URL to be loaded.</dd>
<dd><code>maxRetries</code> - The maximum number of retry attempts.</dd>
<dt>Returns:</dt>
<dd>true if the page is successfully loaded, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDistrictsOfProvince(java.lang.String)">
<h3>getDistrictsOfProvince</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="DistrictInfo.html" title="class in ScrapDataToCsvStorage">DistrictInfo</a>&gt;</span>&nbsp;<span class="element-name">getDistrictsOfProvince</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;provinceUrl)</span></div>
<div class="block">Retrieves a list of districts for a given province URL.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>provinceUrl</code> - URL of the province page</dd>
<dt>Returns:</dt>
<dd>List of DistrictInfo objects containing district names and URLs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="safelyGetText(org.openqa.selenium.WebElement,org.openqa.selenium.By,java.lang.String)">
<h3>safelyGetText</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">safelyGetText</span><wbr><span class="parameters">(org.openqa.selenium.WebElement&nbsp;detail,
 org.openqa.selenium.By&nbsp;selector,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;defaultValue)</span></div>
<div class="block">Safely gets text from a WebElement, returns a default value if not found.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>detail</code> - WebElement to search within</dd>
<dd><code>selector</code> - By selector to find the desired element</dd>
<dd><code>defaultValue</code> - Default value to return if element is not found</dd>
<dt>Returns:</dt>
<dd>String value of the element or default value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="safelyGetText(org.openqa.selenium.WebDriver,org.openqa.selenium.By,java.lang.String)">
<h3>safelyGetText</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">safelyGetText</span><wbr><span class="parameters">(org.openqa.selenium.WebDriver&nbsp;driver,
 org.openqa.selenium.By&nbsp;selector,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;defaultValue)</span></div>
<div class="block">Safely gets text from the WebDriver, returns a default value if not found.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>driver</code> - WebDriver instance to use for scraping</dd>
<dd><code>selector</code> - By selector to find the desired element</dd>
<dd><code>defaultValue</code> - Default value to return if element is not found</dd>
<dt>Returns:</dt>
<dd>String value of the element or default value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAirQuality(java.lang.String,int)">
<h3>getAirQuality</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAirQuality</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 int&nbsp;maxRetries)</span></div>
<div class="block">Retrieves air quality data from a given URL.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - URL to scrape for air quality data</dd>
<dd><code>maxRetries</code> - Maximum number of retries for scraping</dd>
<dt>Returns:</dt>
<dd>Air quality as a string, or a default unknown value if not found</dd>
<dt>Throws:</dt>
<dd><code>org.openqa.selenium.NoSuchElementException</code> - if the air quality information element is not found in the page</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createChromeOption()">
<h3>createChromeOption</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">org.openqa.selenium.chrome.ChromeOptions</span>&nbsp;<span class="element-name">createChromeOption</span>()</div>
<div class="block">Creates and configures ChromeOptions for the WebDriver.
 This method sets various properties and arguments for the ChromeDriver,
 such as headless mode and disabling images for better performance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Configured ChromeOptions object.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="scrapeHourlyWeatherData3Days(org.openqa.selenium.WebDriver,java.lang.String,java.lang.String,java.lang.String,java.lang.String)">
<h3>scrapeHourlyWeatherData3Days</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;</span>&nbsp;<span class="element-name">scrapeHourlyWeatherData3Days</span><wbr><span class="parameters">(org.openqa.selenium.WebDriver&nbsp;driver,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;province,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;district,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;airQuality)</span></div>
<div class="block">Scrapes hourly weather data for the next 3 days from a given URL.
 The method parses the web page to extract relevant weather data like temperature,
 humidity, wind speed, etc., and returns a list of HourlyWeatherInfo objects.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>driver</code> - The WebDriver instance used for scraping.</dd>
<dd><code>url</code> - The URL of the weather data page.</dd>
<dd><code>province</code> - The name of the province for which the data is being scraped.</dd>
<dd><code>district</code> - The name of the district for which the data is being scraped.</dd>
<dd><code>airQuality</code> - The air quality information.</dd>
<dt>Returns:</dt>
<dd>A list of HourlyWeatherInfo objects containing the scraped weather data.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="saveToCSV(java.util.List,java.lang.String)">
<h3>saveToCSV</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">saveToCSV</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;&nbsp;weatherData,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;filePath)</span></div>
<div class="block">Saves the collected weather data to a CSV file.
 The method checks if the specified directory exists, creates it if necessary,
 and then writes the weather data in CSV format to the specified file path.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>weatherData</code> - The list of HourlyWeatherInfo objects to be saved.</dd>
<dd><code>filePath</code> - The path of the CSV file where the data will be saved.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="scrapeWithRetry(java.lang.String,int,java.lang.String,java.lang.String,java.lang.String)">
<h3>scrapeWithRetry</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;</span>&nbsp;<span class="element-name">scrapeWithRetry</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;url,
 int&nbsp;maxRetries,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;province,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;district,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;airQuality)</span></div>
<div class="block">Attempts to scrape weather data with retries on failure.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>url</code> - URL to scrape for weather data</dd>
<dd><code>maxRetries</code> - Maximum number of retries for scraping</dd>
<dd><code>province</code> - Name of the province</dd>
<dd><code>district</code> - Name of the district</dd>
<dd><code>airQuality</code> - Air quality information</dd>
<dt>Returns:</dt>
<dd>List of HourlyWeatherInfo objects containing weather data</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="scrapeAndSaveToCsv(java.lang.String,java.lang.String)">
<h3>scrapeAndSaveToCsv</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">scrapeAndSaveToCsv</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directoryPath)</span></div>
<div class="block">Initiates the process of scraping weather data for the specified region and then saves it to a CSV file.
 This method manages the scraping tasks for each province and district within the region, handling them concurrently.
 It aggregates the scraped weather data and air quality information from multiple sources.
 After completing the scraping tasks, it compiles the data into a CSV file format and saves it.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>regionName</code> - The name of the region for which to scrape weather data. It determines the scope of data collection.</dd>
<dd><code>directoryPath</code> - The file path of the directory where the CSV file will be saved.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateDataFilesStatusToEF(int,java.lang.String)">
<h3>updateDataFilesStatusToEF</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateDataFilesStatusToEF</span><wbr><span class="parameters">(int&nbsp;dataFileId,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;errorMessage)</span></div>
<div class="block">Updates the status of a data file to 'EF' (Error Finished) in the control database and logs an error message.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dataFileId</code> - The ID of the data file to update.</dd>
<dd><code>errorMessage</code> - The error message to log.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isNotReadyToRun()">
<h3>isNotReadyToRun</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isNotReadyToRun</span>()</div>
<div class="block">Checks if the scraping process is ready to run.
 This method ensures that there is no ongoing scraping process and that a successful process hasn't been completed already on the same day.
 It queries the control database to determine the readiness of the process.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the scraping process can start, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertToControlStartProcess()">
<h3>insertToControlStartProcess</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">insertToControlStartProcess</span>()</div>
<div class="block">Records the start of a scraping process in the control database.
 This method logs the initiation of a scraping process by inserting a new record in the control database.
 It includes information such as the current time, expected completion time, and initial status.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The generated ID for the new data file record in the database, or -1 in case of an error.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="insertToControlSuccessProcess(java.lang.String,java.lang.String,int,int,java.time.LocalDateTime)">
<h3>insertToControlSuccessProcess</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">insertToControlSuccessProcess</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fileName,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;absolutePath,
 int&nbsp;dataFileId,
 int&nbsp;rowCount,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/LocalDateTime.html" title="class or interface in java.time" class="external-link">LocalDateTime</a>&nbsp;scrapingTime)</span></div>
<div class="block">Logs the successful completion of a scraping process in the control database.
 This method updates the database to reflect the successful completion of the scraping process.
 It includes details such as the final file name, row count, and configuration details.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fileName</code> - The name of the CSV file where data is saved.</dd>
<dd><code>dataFileId</code> - The ID of the data file record in the database.</dd>
<dd><code>rowCount</code> - The number of rows of data scraped.</dd>
<dd><code>scrapingTime</code> - The time at which the scraping was completed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertFileNameToCode(java.lang.String)">
<h3>convertFileNameToCode</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">convertFileNameToCode</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;originalFileName)</span></div>
<div class="block">Converts a given file name to a standardized code format.
 This method is used for database entries and removes special characters like dashes and underscores from the file name.
 It also removes the file extension for a cleaner code representation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>originalFileName</code> - The original file name to be converted.</dd>
<dt>Returns:</dt>
<dd>The standardized code string derived from the file name.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finalizeScraping(java.util.concurrent.ExecutorService,java.util.List,java.util.concurrent.atomic.AtomicInteger,long,int,java.lang.String)">
<h3>finalizeScraping</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">finalizeScraping</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ExecutorService.html" title="class or interface in java.util.concurrent" class="external-link">ExecutorService</a>&nbsp;executorService,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;&nbsp;allWeatherData,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a>&nbsp;completedUrls,
 long&nbsp;startTime,
 int&nbsp;dataFileId,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directoryPath)</span></div>
<div class="block">Completes the scraping process by terminating the ExecutorService and summarizing the results.
 This method waits for all scraping tasks to finish, summarizes the data collected, and then proceeds to save the data.
 It also calculates the total time taken for the scraping process.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>executorService</code> - The ExecutorService managing the scraping tasks.</dd>
<dd><code>allWeatherData</code> - A list of collected HourlyWeatherInfo objects.</dd>
<dd><code>completedUrls</code> - A counter for the number of URLs successfully processed.</dd>
<dd><code>startTime</code> - The timestamp marking the start of the scraping process.</dd>
<dd><code>dataFileId</code> - The ID of the data file record in the database.</dd>
<dd><code>directoryPath</code> - The file path of the directory where the CSV file will be saved.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="saveDataAndPrintSummary(java.util.List,long,int,java.lang.String)">
<h3>saveDataAndPrintSummary</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">saveDataAndPrintSummary</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="HourlyWeatherInfo.html" title="class in ScrapDataToCsvStorage">HourlyWeatherInfo</a>&gt;&nbsp;allWeatherData,
 long&nbsp;startTime,
 int&nbsp;dataFileId,
 <a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directoryPath)</span></div>
<div class="block">Saves the scraped weather data into a CSV file and prints a summary of the operation.
 This method creates a unique filename for the CSV file based on the current time and the size of the data.
 It then writes the collected weather data to this file and prints out the total runtime of the scraping process.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>allWeatherData</code> - The list of HourlyWeatherInfo objects to be saved.</dd>
<dd><code>startTime</code> - The start time of the scraping process.</dd>
<dd><code>dataFileId</code> - The ID of the data file record in the database.</dd>
<dd><code>directoryPath</code> - The file path of the directory where the CSV file will be saved.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIPAddress()">
<h3>getIPAddress</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getIPAddress</span>()</div>
<div class="block">Retrieves the public IP address of the current machine.
 This method accesses an external service to obtain the public IP address of the machine running this application.
 It is used for logging purposes in the scraping process.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The public IP address as a String, or an error message if the address cannot be retrieved.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countUrl(java.lang.String)">
<h3>countUrl</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">countUrl</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;regionName)</span></div>
<div class="block">Counts and categorizes the different URLs for provinces and districts within a specified region.
 This method is useful for assessing the total number of unique URLs that will be scraped for weather data.
 It provides a breakdown of the number of provinces, districts, and air quality URLs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>regionName</code> - The name of the region for which to count URLs.</dd>
<dt>Returns:</dt>
<dd>The total number of unique URLs for the specified region.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="main(java.lang.String[])">
<h3>main</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">main</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</span></div>
<div class="block">The main method to start the scraping process.
 This method sets up the necessary configurations and initiates the scraping and saving process.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>args</code> - Command-line arguments (not used in this application).</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
